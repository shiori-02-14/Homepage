const storageKey = 'shiori-theme';
const reduceMotionQuery = window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)') : null;

const fortuneData = {
  results: ['å¤§å‰', 'ä¸­å‰', 'å°å‰', 'å‰', 'æœ«å‰', 'å‡¶'],
  fallbackComment: 'ä»Šæ—¥ã¯ã†ã‚“ã“ã«æ°—ã‚’ã¤ã‘ã¾ã—ã‚‡ã†ï¼',
  commentsByResult: {
    'å¤§å‰': {
      'é¡˜ã„äº‹': [
        'ç„¦ã‚‰ãšå‚™ãˆã‚Œã°è‡ªç„¶ã¨å®Ÿã‚’çµã³ã¾ã™ã€‚',
        'å¿—ã‚’å¿˜ã‚Œãªã‘ã‚Œã°å¤©ã®åŠ©ã‘ã‚ã‚Šã€‚',
        'é™ã‹ãªå¿ƒã§è‡¨ã‚ã°æœ›ã¿ã©ãŠã‚Šã«é€²ã¿ã¾ã™ã€‚'
      ],
      'æ‹æ„›': [
        'æ€ã„ã‚„ã‚Šã®è¨€è‘‰ãŒç›¸æ‰‹ã®å¿ƒã‚’ç…§ã‚‰ã—ã¾ã™ã€‚',
        'ç´ ç›´ãªç¬‘é¡”ãŒè·é›¢ã‚’ä¸€æ°—ã«ç¸®ã‚ã‚‹ã§ã—ã‚‡ã†ã€‚',
        'ã•ã‚Šã’ãªã„æ°—é£ã„ãŒæ°¸ãèªžã‚Šç¶™ãŒã‚Œã‚‹ç¸ã«ã€‚'
      ],
      'ä»•äº‹': [
        'æ–°ã—ã„ææ¡ˆãŒé«˜ãè©•ä¾¡ã•ã‚Œã¾ã™ã€‚',
        'å‘¨å›²ã®æœŸå¾…ã‚’è¶…ãˆã‚‹æˆæžœã‚’ä¸Šã’ã‚‰ã‚Œã‚‹æ™‚ã€‚',
        'çŽ‡å…ˆã—ã¦å‹•ã‘ã°ä¿¡é ¼ãŒä¸€æ®µã¨åŽšããªã‚Šã¾ã™ã€‚'
      ],
      'å­¦å•': [
        'æœã®æ™‚é–“ã‚’æ´»ã‹ã™ã¨ç†è§£ãŒé©šãã»ã©æ·±ã¾ã‚‹ã€‚',
        'é›£é¡Œã‚‚åŸºç¤Žã‚’å¤§åˆ‡ã«ã™ã‚Œã°ã™ã‚“ãªã‚Šè§£ã‘ã¾ã™ã€‚',
        'å­¦ã³ã‚’äººã«ä¼ãˆã‚‹ã¨æ›´ã«èº«ã«ã¤ãã¾ã™ã€‚'
      ],
      'æ—…è¡Œ': [
        'å¤œæ˜Žã‘ã¨ã¨ã‚‚ã«å‡ºç™ºã™ã‚‹ã¨å‰æ™¯ã«æµã¾ã‚Œã¾ã™ã€‚',
        'è¡Œãå…ˆã§ã®ã”ç¸ãŒæ–°ã—ã„æ‰‰ã‚’é–‹ãã¾ã™ã€‚',
        'å¯„ã‚Šé“ãŒæ€ã‚ã¬å®ã‚’è¦‹ã¤ã‘ã‚‹éµã€‚'
      ],
      'é‡‘é‹': [
        'è¨ˆç”»çš„ãªå‡ºè²»ãŒã•ã‚‰ã«ç¦ã‚’å‘¼ã¶ã€‚',
        'å¤ã„è²¡å¸ƒã‚’æ•´ãˆã‚‹ã¨å·¡ã‚Šã‚‚è‰¯ããªã‚Šã¾ã™ã€‚',
        'åˆ†ã‹ã¡åˆã†å¿ƒãŒè±Šã‹ã•ã‚’å€å¢—ã•ã›ã¾ã™ã€‚'
      ],
      'å¥åº·': [
        'è»½ã„é‹å‹•ã¨æ·±å‘¼å¸ã§æ´»åŠ›ãŒæº€ã¡ã¾ã™ã€‚',
        'æ—¬ã®é£Ÿæã‚’å‘³ã‚ã†ã¨å…ç–«ãŒæ•´ã„ã¾ã™ã€‚',
        'ç¡çœ ãƒªã‚ºãƒ ã‚’æ•´ãˆã‚Œã°å¿«èª¿ãã®ã‚‚ã®ã€‚'
      ],
      'äººé–“é–¢ä¿‚': [
        'æŒ¨æ‹¶ã‚’ä¸å¯§ã«ã™ã‚Œã°æ–°ãŸãªç¸ãŒèŠ½å¹ãã¾ã™ã€‚',
        'ä¹…ã—ã¶ã‚Šã®é€£çµ¡ãŒæ¸©ã‹ãªå†ä¼šã«ç¹‹ãŒã‚‹ã€‚',
        'æ„Ÿè¬ã®è¨€è‘‰ãŒå‘¨å›²ã‚’æ˜Žã‚‹ãç…§ã‚‰ã—ã¾ã™ã€‚'
      ],
      'å‹è² äº‹': [
        'æº–å‚™ã‚’å°½ãã›ã°æœ›ã‚€çµæžœãŒæ‰‹ã«å…¥ã‚Šã¾ã™ã€‚',
        'æ±ºæ–­ã¯æ—©ã‚ãŒå‰ã€è¿·ã„ã¯å¹ãé£›ã³ã¾ã™ã€‚',
        'è‡ªä¿¡ã‚’èƒ¸ã«é™ã‹ã«è‡¨ã‚ã°å‹æ©Ÿåˆ°æ¥ã€‚'
      ],
      'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸': [
        'å‘¨ã‚Šã¸ã®æ„Ÿè¬ã‚’å¿˜ã‚Œãšæ­©ã¿ã¾ã—ã‚‡ã†ã€‚',
        'å¿ƒè½ã¡ç€ã‘ã‚Œã°æ›´ãªã‚‹é«˜ã¿ã¸é€²ã‚ã¾ã™ã€‚',
        'æµã¾ã‚ŒãŸç’°å¢ƒã‚’æ…ˆã—ã¿æ¬¡ã®ä¸€æ­©ã‚’ã€‚'
      ]
    },
    'ä¸­å‰': {
      'é¡˜ã„äº‹': [
        'åœ°é“ãªåŠªåŠ›ã‚’ç¶šã‘ã‚Œã°å¶ã†å…†ã—ã€‚',
        'é€”ä¸­ã§æŒ¯ã‚Šè¿”ã‚Šèª¿æ•´ã™ã‚Œã°æ–¹å‘ã¯åˆã£ã¦ã„ã¾ã™ã€‚',
        'ä»²é–“ã®åŠ©ã‘ã‚’å€Ÿã‚Šã‚‹ã¨å®Ÿç¾ãŒæ—©ã¾ã‚Šã¾ã™ã€‚'
      ],
      'æ‹æ„›': [
        'ç´ ç›´ãªè¨€è‘‰ãŒè·é›¢ã‚’ç¸®ã‚ã¾ã™ã€‚',
        'ã„ã¤ã‚‚ã‚ˆã‚Šå°‘ã—æ—©ãé€£çµ¡ã™ã‚‹ã¨å–œã°ã‚Œã‚‹ã€‚',
        'ã‚†ã£ãã‚Šæ­©èª¿ã‚’åˆã‚ã›ã‚Œã°çµ†ãŒæ·±ã¾ã‚Šã¾ã™ã€‚'
      ],
      'ä»•äº‹': [
        'ä¸‹æº–å‚™ã‚’ä¸å¯§ã«ã™ã‚Œã°æ»žã‚Šãªãé€²ã¿ã¾ã™ã€‚',
        'å‘¨å›²ã®æ„è¦‹ã«è€³ã‚’å‚¾ã‘ã‚‹ã¨æ–°ãŸãªãƒ’ãƒ³ãƒˆãŒã€‚',
        'ç„¦ã‚‰ãšä¸€ã¤ãšã¤ç‰‡ã¥ã‘ã‚Œã°è©•ä¾¡ã«ã¤ãªãŒã‚‹ã€‚'
      ],
      'å­¦å•': [
        'å¾©ç¿’ã‚’é‡ã­ã‚Œã°ç†è§£ãŒç¢ºã‹ãªã‚‚ã®ã«ã€‚',
        'è‹¦æ‰‹ç®‡æ‰€ã‚’å‹äººã¨æ•™ãˆåˆã†ã¨åŠ¹æžœçš„ã€‚',
        'å­¦ã³ã®è¨˜éŒ²ã‚’ä»˜ã‘ã‚‹ã¨ã‚„ã‚‹æ°—ãŒç¶šãã¾ã™ã€‚'
      ],
      'æ—…è¡Œ': [
        'è¨ˆç”»ã‚’æŸ”è»Ÿã«ã™ã‚‹ã¨æ€ã‚ã¬åæ‰€ã¨å‡ºä¼šã†ã€‚',
        'æ˜¼éŽãŽã®å‡ºç™ºãŒã‚†ã¨ã‚Šã‚’ç”Ÿã¿ã¾ã™ã€‚',
        'èª°ã‹ã¨é“ä¸­ã‚’å…±æœ‰ã™ã‚‹ã¨å®‰å¿ƒã€‚'
      ],
      'é‡‘é‹': [
        'å°ã•ãªç¯€ç´„ãŒã‚ã¨ã§å½¹ç«‹ã¡ã¾ã™ã€‚',
        'å¿…è¦ãªç‰©ã ã‘ã‚’ä¸å¯§ã«é¸ã³ã¾ã—ã‚‡ã†ã€‚',
        'è²¯è“„ã®ä»•çµ„ã¿ã‚’è¦‹ç›´ã™ã¨å‰ã€‚'
      ],
      'å¥åº·': [
        'æ¸©ã‹ã„é£Ÿäº‹ã¨è»½ã„é‹å‹•ã§æ•´ã„ã¾ã™ã€‚',
        'ä½“ã‚’å†·ã‚„ã•ã¬å·¥å¤«ã‚’ã™ã‚‹ã¨å¿«èª¿ã€‚',
        'å§¿å‹¢ã‚’æ­£ã™æ„è­˜ãŒç–²ã‚Œã‚’æ¸›ã‚‰ã—ã¾ã™ã€‚'
      ],
      'äººé–“é–¢ä¿‚': [
        'ã¾ãšèžãå½¹ã«å¾¹ã™ã‚‹ã¨ä¿¡é ¼ãŒå¢—ã™ã€‚',
        'ç¤¼å„€æ­£ã—ã„ã‚„ã‚Šå–ã‚ŠãŒå††æ»‘ã•ã‚’ä¿ã¤ã€‚',
        'å…±é€šã®è©±é¡Œã‚’æŽ¢ã™ã¨è·é›¢ãŒç¸®ã¾ã‚‹ã€‚'
      ],
      'å‹è² äº‹': [
        'çŠ¶æ³ã‚’ã‚ˆãè¦‹ã¦ã‹ã‚‰å‹•ã‘ã°å¥½æ©Ÿã‚’æŽ´ã‚ã‚‹ã€‚',
        'ç„¡ç†ã‚’ã›ãšè‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’å®ˆã‚‹ã¨â—Žã€‚',
        'ã“ã“ãžã¨ã„ã†å ´é¢ã¾ã§åŠ›ã‚’æ¸©å­˜ã—ã¦å‰ã€‚'
      ],
      'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸': [
        'èƒŒç­‹ã‚’ä¼¸ã°ã—ã¦é€²ã‚ã°è‡ªç„¶ã¨é“ãŒé–‹ã‘ã‚‹ã€‚',
        'å‘¨å›²ã®æ”¯ãˆã‚’æ„Ÿã˜ã¤ã¤ä¸å¯§ã«æ­©ã¿ã¾ã—ã‚‡ã†ã€‚',
        'å°ã•ãªé”æˆã‚’è¤’ã‚ã‚‹ã¨å¿ƒãŒè»½ããªã‚Šã¾ã™ã€‚'
      ]
    },
    'å°å‰': {
      'é¡˜ã„äº‹': [
        'æ‰‹é †ã‚’æ•´ãˆã‚Œã°ã‚†ã£ãã‚Šå¶ã†æ°—é…ã€‚',
        'ç„¦ã‚Šã‚’æ‰‹æ”¾ã›ã°å…‰ãŒè¦‹ãˆã¦ãã¾ã™ã€‚',
        'æº–å‚™æœŸé–“ã¨æ‰ãˆä¸å¯§ã«æ¸©ã‚ã¾ã—ã‚‡ã†ã€‚'
      ],
      'æ‹æ„›': [
        'è½ã¡ç€ã„ãŸæ…‹åº¦ãŒå¥½å°è±¡ã€‚',
        'æ€¥ãŽã™ãŽãšç›¸æ‰‹ã®ãƒªã‚ºãƒ ã«åˆã‚ã›ã¦ã€‚',
        'çŸ­ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚‚å¿ƒã‚’è¾¼ã‚ã‚Œã°ä¼ã‚ã‚Šã¾ã™ã€‚'
      ],
      'ä»•äº‹': [
        'ç›¸è«‡ã—ãªãŒã‚‰é€²ã‚ã‚‹ã¨å®‰å¿ƒã§ã™ã€‚',
        'æ…Žé‡ã•ãŒè©•ä¾¡ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€‚',
        'å°‘ã—ä½™è£•ã‚’æ®‹ã—ãŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å‰ã€‚'
      ],
      'å­¦å•': [
        'åŸºç¤Žã‚’å›ºã‚ã‚‹ã¨æˆæžœãŒå‡ºã‚„ã™ã„ã€‚',
        'ãƒŽãƒ¼ãƒˆã‚’æ•´ç†ã™ã‚‹ã¨é ­ã®ä¸­ã‚‚æ•´ã„ã¾ã™ã€‚',
        'è³ªå•ã‚’æã‚ŒãšæŠ•ã’ã‹ã‘ã¾ã—ã‚‡ã†ã€‚'
      ],
      'æ—…è¡Œ': [
        'è¿‘å ´ã®å°æ—…è¡ŒãŒç™’ã‚„ã—ã‚’ãã‚Œã¾ã™ã€‚',
        'è·ç‰©ã¯è»½ã‚ã«ã™ã‚‹ã¨å¿«é©ã€‚',
        'ç›®çš„åœ°ã‚ˆã‚Šç§»å‹•ãã®ã‚‚ã®ã‚’æ¥½ã—ã‚“ã§ã€‚'
      ],
      'é‡‘é‹': [
        'å¿…è¦ãªã‚‚ã®ã ã‘ã«çµžã‚‹ã¨å®ˆã‚Œã¾ã™ã€‚',
        'å®¶è¨ˆç°¿ã‚¢ãƒ—ãƒªã‚’ä»˜ã‘ã‚‹ã¨å®‰å¿ƒã€‚',
        'è¡å‹•è²·ã„ã¯ä¸€æ™©ç½®ã„ã¦å†è€ƒã‚’ã€‚'
      ],
      'å¥åº·': [
        'æ—©å¯æ—©èµ·ãã§ä½“èª¿ã‚’æ•´ãˆã¦ã€‚',
        'æ¸©ã‹ã„é£²ã¿ç‰©ã§ãŠè…¹ã‚’å®ˆã‚Šã¾ã—ã‚‡ã†ã€‚',
        'è»½ã„ã‚¹ãƒˆãƒ¬ãƒƒãƒã‚’æ—¥èª²ã«ã™ã‚‹ã¨â—Žã€‚'
      ],
      'äººé–“é–¢ä¿‚': [
        'ç¤¼å„€ã‚’å¤§åˆ‡ã«ã™ã‚Œã°å††æº€ã€‚',
        'æ„Ÿè¬ã®è¨€è‘‰ã‚’æ·»ãˆã‚‹ã¨å–œã°ã‚Œã¾ã™ã€‚',
        'ç›¸æ‰‹ã®æ„è¦‹ã‚’ä¸€åº¦å—ã‘æ­¢ã‚ã¦ã‹ã‚‰è¿”ç­”ã‚’ã€‚'
      ],
      'å‹è² äº‹': [
        'å®ˆã‚Šã‚’å›ºã‚ã¦æµã‚Œã‚’å¾…ã¤ã¨è‰¯ã—ã€‚',
        'å°ã•ãªå‹ã¡ã‚’é‡ã­ã¦è‡ªä¿¡ã‚’é¤Šã„ã¾ã—ã‚‡ã†ã€‚',
        'èƒŒä¼¸ã³ã‚’ã›ãšå¾—æ„åˆ†é‡Žã§å‹è² ã‚’ã€‚'
      ],
      'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸': [
        'ç©ã‚„ã‹ãªæ°—æŒã¡ã‚’ä¿ã¤ã“ã¨ãŒå‰ã€‚',
        'ç„¦ã‚‰ãšä¸€æ­©ãšã¤ã®ç©ã¿é‡ã­ã‚’å¤§åˆ‡ã«ã€‚',
        'è‡ªåˆ†ã‚’è²¬ã‚ãšä¼‘ã‚€å‹‡æ°—ã‚‚æŒã¡ã¾ã—ã‚‡ã†ã€‚'
      ]
    },
    'å‰': {
      'é¡˜ã„äº‹': [
        'æ™‚é–“ã‚’ã‹ã‘ã‚Œã°ç€å®Ÿã«å®Ÿã‚’çµã³ã¾ã™ã€‚',
        'ä»²é–“ã¨åŠ›ã‚’åˆã‚ã›ã‚‹ã¨å‰é€²ã—ã¾ã™ã€‚',
        'ç¯€ç›®ã‚’æ±ºã‚ã¦é€²ã‚ã‚‹ã¨é”æˆæ„ŸãŒå¢—ã—ã¾ã™ã€‚'
      ],
      'æ‹æ„›': [
        'ç¬‘é¡”ãŒè‰¯ç¸ã‚’å‘¼ã³å¯„ã›ã‚‹ã§ã—ã‚‡ã†ã€‚',
        'ã•ã‚Šã’ãªã„è¤’ã‚è¨€è‘‰ãŒåŠ¹æžœçš„ã€‚',
        'å…±é€šã®è¶£å‘³ã‚’æ¥½ã—ã‚€ã¨è·é›¢ãŒç¸®ã¾ã‚Šã¾ã™ã€‚'
      ],
      'ä»•äº‹': [
        'å”åŠ›ã‚’æƒœã—ã¾ãªã‘ã‚Œã°è©•ä¾¡ãŒé«˜ã¾ã‚Šã¾ã™ã€‚',
        'è³‡æ–™ã‚’æ•´ãˆã‚‹ã²ã¨æ‰‹é–“ãŒæˆæžœã«ç¹‹ãŒã‚‹ã€‚',
        'ä¸å¯§ãªå ±é€£ç›¸ã§ä¿¡é ¼ã‚’å¾—ã‚‰ã‚Œã¾ã™ã€‚'
      ],
      'å­¦å•': [
        'ãƒŽãƒ¼ãƒˆã«ã¾ã¨ã‚ç›´ã™ã¨ç†è§£ãŒæ·±ã¾ã‚‹ã€‚',
        'ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚’å¢—ã‚„ã™ã¨å®šç€ã—ã¾ã™ã€‚',
        'å­¦ç¿’ç’°å¢ƒã‚’æ•´ãˆã‚‹ã ã‘ã§é›†ä¸­åŠ›UPã€‚'
      ],
      'æ—…è¡Œ': [
        'åˆå¾Œã‹ã‚‰ã®å‡ºç™ºãŒã¡ã‚‡ã†ã©è‰¯ã„æ°—åˆ†è»¢æ›ã«ã€‚',
        'æ—¬ã®é£Ÿã¹æ­©ããŒæ—…ã‚’å½©ã‚Šã¾ã™ã€‚',
        'ç¾åœ°ã®äººã«é“ã‚’å°‹ã­ã‚‹ã¨ç´ æ•µãªæƒ…å ±ãŒã€‚'
      ],
      'é‡‘é‹': [
        'è´ˆã‚Šç‰©ã¯æ‰‹ä½œã‚Šé¢¨ã«ã™ã‚‹ã¨å–œã°ã‚Œã‚‹ã€‚',
        'å‹Ÿé‡‘ã‚„ãŠã™ãåˆ†ã‘ãŒå·¡ã‚Šã‚’è‰¯ãã—ã¾ã™ã€‚',
        'è²¡å¸ƒã®ä¸­ã‚’æ•´ç†ã™ã‚‹ã¨è‡¨æ™‚åŽå…¥ã®æ°—é…ã€‚'
      ],
      'å¥åº·': [
        'è»½ã„ã‚¹ãƒˆãƒ¬ãƒƒãƒã§èº«ä½“ã‚’ã»ãã™ã¨å¿«èª¿ã€‚',
        'æ°´åˆ†è£œçµ¦ã‚’ã“ã¾ã‚ã«ã™ã‚‹ã¨æ•´ã†ã€‚',
        'å…¥æµ´ã§æ¸©ã¾ã‚ŠãªãŒã‚‰ä¸€æ—¥ã®ç–²ã‚Œã‚’æµã—ã¾ã—ã‚‡ã†ã€‚'
      ],
      'äººé–“é–¢ä¿‚': [
        'ä¹…ã—ã¶ã‚Šã®é€£çµ¡ãŒè‰¯ç¸ã‚’å‘¼ã³æˆ»ã—ã¾ã™ã€‚',
        'å°ã•ãªãŠç¤¼ã§ã‚‚è¨€è‘‰ã«ã™ã‚‹ã¨å–œã°ã‚Œã‚‹ã€‚',
        'å…±é€šã®ç›®æ¨™ã‚’è©±é¡Œã«ã™ã‚‹ã¨çµ†ãŒæ·±ã¾ã‚‹ã€‚'
      ],
      'å‹è² äº‹': [
        'å‘¨å›²ã®åŠ©è¨€ã‚’å–ã‚Šå…¥ã‚Œã‚‹ã¨å…‰ã‚Šã¾ã™ã€‚',
        'æº–å‚™ã‚’æ€ ã‚‰ãªã‘ã‚Œã°å®‰å®šã—ãŸçµæžœã«ã€‚',
        'è‡ªä¿¡ã‚’æŒã£ã¦å¹³å¸¸å¿ƒã§è‡¨ã‚€ã¨å‰ã€‚'
      ],
      'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸': [
        'æ„Ÿè¬ã®è¨€è‘‰ã‚’å£°ã«å‡ºã—ã¦ä¼ãˆã¾ã—ã‚‡ã†ã€‚',
        'ä¸€æ—¥ä¸€å–„ã‚’æ„è­˜ã™ã‚‹ã¨é‹æ°—ãŒå·¡ã‚Šã¾ã™ã€‚',
        'æœ—ã‚‰ã‹ãªæ…‹åº¦ãŒå¹¸é‹ã‚’ã•ã‚‰ã«å¼•ãå¯„ã›ã‚‹ã€‚'
      ]
    },
    'æœ«å‰': {
      'é¡˜ã„äº‹': [
        'æ€¥ãŒãšæº–å‚™ã‚’æ•´ãˆã‚Œã°å¶ã†å…†ã—ã€‚',
        'è¨ˆç”»ã‚’ç·´ã‚Šç›´ã™æ™‚é–“ã¨æ‰ãˆã¦å‰ã€‚',
        'ä¿¡é ¼ã§ãã‚‹äººã«ç›¸è«‡ã™ã‚‹ã¨é“ãŒé–‹ã‘ã‚‹ã€‚'
      ],
      'æ‹æ„›': [
        'ç›¸æ‰‹ã®è©±ã‚’æœ€å¾Œã¾ã§èžã‘ã°å®‰æ³°ã€‚',
        'æŠ¼ã—å¼•ãã®ãƒãƒ©ãƒ³ã‚¹ã‚’æ„è­˜ã—ã¦ã€‚',
        'æ‰‹ç´™ã‚„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ä¸å¯§ã«ä¼ãˆã‚‹ã¨â—Žã€‚'
      ],
      'ä»•äº‹': [
        'ç¢ºèªã‚’é‡ã­ã‚‹ã“ã¨ã§å¤±æ•—ã‚’é˜²ã’ã¾ã™ã€‚',
        'å¼•ãç¶™ãŽã«æ™‚é–“ã‚’ã‹ã‘ã‚‹ã¨å®‰å¿ƒã€‚',
        'å°ã•ãªæ”¹å–„ã‚’ç©ã¿é‡ã­ã‚‹ã¨æˆæžœã«ã€‚'
      ],
      'å­¦å•': [
        'è‹¦æ‰‹åˆ†é‡Žã‚’å°‘ã—ãšã¤å…‹æœã—ã¾ã—ã‚‡ã†ã€‚',
        'å¾©ç¿’ãƒŽãƒ¼ãƒˆã‚’ä½œã‚‹ã¨ç†è§£ãŒæ·±ã¾ã‚‹ã€‚',
        'è³ªå•ãƒ¡ãƒ¢ã‚’ä½œã‚Šå…ˆç”Ÿã«ç›¸è«‡ã‚’ã€‚'
      ],
      'æ—…è¡Œ': [
        'èº«è»½ãªè£…ã„ã§å‹•ãã¨å®‰å¿ƒã§ã™ã€‚',
        'äº¤é€šæ‰‹æ®µã‚’æ—©ã‚ã«ç¢ºèªã™ã‚‹ã¨ãƒˆãƒ©ãƒ–ãƒ«å›žé¿ã€‚',
        'å¤©å€™ã®å¤‰åŒ–ã«å‚™ãˆã¦äºˆå‚™æ¡ˆã‚’ç”¨æ„ã—ã¾ã—ã‚‡ã†ã€‚'
      ],
      'é‡‘é‹': [
        'ã“ã¾ã‚ã«è¨˜éŒ²ã‚’ä»˜ã‘ã‚‹ã¨ç„¡é§„ãŒæ¸›ã‚Šã¾ã™ã€‚',
        'ã‚¯ãƒ¼ãƒãƒ³ã®ä½¿ã„éŽãŽã«ã¯æ³¨æ„ã‚’ã€‚',
        'ç¾é‡‘ã¨é›»å­æ±ºæ¸ˆã®ãƒãƒ©ãƒ³ã‚¹ã‚’è¦‹ç›´ã™ã¨å‰ã€‚'
      ],
      'å¥åº·': [
        'æ¸©ã‹ã„æ¹¯ã§ä½“ã‚’ã»ãã—ã¦ãƒªãƒ©ãƒƒã‚¯ã‚¹ã€‚',
        'é£Ÿäº‹ã®æ™‚é–“ã‚’ä¸€å®šã«ä¿ã¤ã¨å®‰å®šã€‚',
        'ã‚¹ãƒˆãƒ¬ãƒƒãƒã§è‚©é¦–ã‚’ä¸å¯§ã«ã‚±ã‚¢ã—ã¦ã€‚'
      ],
      'äººé–“é–¢ä¿‚': [
        'æŸ”ã‚‰ã‹ãªè¨€è‘‰ã‚’é¸ã¶ã¨è§’ãŒç«‹ã¡ã¾ã›ã‚“ã€‚',
        'ç›¸æ‰‹ã®è‰¯ã„æ‰€ã‚’ä¸€ã¤ä¼ãˆã‚‹ã¨é›°å›²æ°—è‰¯å¥½ã€‚',
        'ç´„æŸã®æ™‚é–“ã‚’å®ˆã‚‹ã¨ä¿¡é ¼ãŒç¶šãã¾ã™ã€‚'
      ],
      'å‹è² äº‹': [
        'å®ˆã‚Šã‚’å›ºã‚ã¦æ™‚ã‚’å¾…ã¤ã®ãŒå‰ã€‚',
        'æº–å‚™ä¸è¶³ã‚’æ„Ÿã˜ãŸã‚‰æ½”ãå»¶æœŸã‚’ã€‚',
        'æ‰‹å …ã„æˆ¦ç•¥ã§ã‚³ãƒ„ã‚³ãƒ„é€²ã‚ã¾ã—ã‚‡ã†ã€‚'
      ],
      'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸': [
        'æœã®æ·±å‘¼å¸ã§å¿ƒã‚’æ•´ãˆã¦ä¸€æ—¥ã‚’ã€‚',
        'ç„¦ã‚‰ãšåŸºç¤Žã‚’è¦‹ç›´ã™å§¿å‹¢ãŒå¥½è»¢ã‚’æ‹›ãã€‚',
        'å‘¨å›²ã®æ”¯ãˆã«æ„Ÿè¬ã—ã¤ã¤é™ã‹ã«æŒ‘ã¿ã¾ã—ã‚‡ã†ã€‚'
      ]
    },
    'å‡¶': {
      'é¡˜ã„äº‹': [
        'ä»Šã¯å‹•ã‹ãšæ©Ÿã‚’ã†ã‹ãŒã†ã®ãŒè³¢æ˜Žã§ã™ã€‚',
        'è¨ˆç”»ã‚’ç·´ã‚Šç›´ã™æ™‚é–“ã‚’ç¢ºä¿ã—ã¾ã—ã‚‡ã†ã€‚',
        'ç›®çš„ã‚’ç´™ã«æ›¸ãå‡ºã—å¿ƒã‚’æ•´ãˆã¦ã‹ã‚‰å†æŒ‘æˆ¦ã‚’ã€‚'
      ],
      'æ‹æ„›': [
        'è·é›¢æ„Ÿã‚’å¤§åˆ‡ã«ã—ç„¡ç†ãªæŽ¥è¿‘ã¯é¿ã‘ã‚‹ã€‚',
        'æ„Ÿæƒ…çš„ãªã‚„ã‚Šå–ã‚Šã¯æŽ§ãˆè½ã¡ç€ã„ã¦ã€‚',
        'è¿”äº‹ã‚’æ€¥ãŒãšå†·é™ã«è¨€è‘‰ã‚’é¸ã‚“ã§ã€‚'
      ],
      'ä»•äº‹': [
        'æ…Žé‡ãªç¢ºèªãŒãƒˆãƒ©ãƒ–ãƒ«ã‚’æœªç„¶ã«é˜²ãŽã¾ã™ã€‚',
        'é‡è¦æ¡ˆä»¶ã¯ä¸€äººã§æŠ±ãˆè¾¼ã¾ãªã„ã“ã¨ã€‚',
        'ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è©°ã‚è¾¼ã¿ã™ãŽãªã„ã‚ˆã†æ³¨æ„ã€‚'
      ],
      'å­¦å•': [
        'ç„¦ã‚‰ãšåŸºç¤Žã‹ã‚‰è¦‹ç›´ã™ã“ã¨ãŒè‚è¦ã€‚',
        'ç–²ã‚Œã‚’æ„Ÿã˜ãŸã‚‰æ—©ã‚ã«ä¼‘æ†©ã‚’æŒŸã‚“ã§ã€‚',
        'ç„¡ç†ãªå‹‰å¼·é‡ã¯æŽ§ãˆè¨ˆç”»ã‚’ç·©ã‚ã¦ã€‚'
      ],
      'æ—…è¡Œ': [
        'å»¶æœŸã‚‚æ¤œè¨Žã—å®‰å…¨ç¬¬ä¸€ã§åˆ¤æ–­ã—ã¾ã—ã‚‡ã†ã€‚',
        'è¡Œãå ´åˆã¯ç›®çš„åœ°ã¨çµŒè·¯ã‚’å†ç¢ºèªã—ã¦ã€‚',
        'å¤©å€™ã‚„ä½“èª¿ã®å¤‰åŒ–ã«ååˆ†å‚™ãˆã‚‹ã“ã¨ã€‚'
      ],
      'é‡‘é‹': [
        'å¤§ããªè²·ã„ç‰©ã¯ä»Šã—ã°ã‚‰ãæŽ§ãˆã‚ã«ã€‚',
        'è²¸ã—å€Ÿã‚Šã¯æ˜Žç¢ºã«ã—ã¦ãƒˆãƒ©ãƒ–ãƒ«ã‚’é˜²ã”ã†ã€‚',
        'è²¡å¸ƒã®ä¸­èº«ã‚’å†ç‚¹æ¤œã—ç„¡é§„é£ã„ã‚’æŠ‘ãˆã¦ã€‚'
      ],
      'å¥åº·': [
        'ä¼‘æ¯ã‚’å„ªå…ˆã—ä½“ã‚’å†·ã‚„ã•ã¬ã‚ˆã†æ³¨æ„ã€‚',
        'ç„¡ç†ãªé‹å‹•ã‚ˆã‚Šç¡çœ ã‚’ç¢ºä¿ã™ã‚‹ã“ã¨ã€‚',
        'ä¸èª¿ã‚’æ„Ÿã˜ãŸã‚‰æ—©ã‚ã«å°‚é–€å®¶ã¸ç›¸è«‡ã‚’ã€‚'
      ],
      'äººé–“é–¢ä¿‚': [
        'è¨€è‘‰é¸ã³ã«æ³¨æ„ã—ã¦èª¤è§£ã‚’é˜²ãŽã¾ã—ã‚‡ã†ã€‚',
        'æ„Ÿæƒ…çš„ã«ãªã‚‹å‰ã«ä¸€å‘¼å¸ãŠãã¨å‰ã€‚',
        'è­°è«–ã‚ˆã‚Šã‚‚èžãå½¹ã«å›žã‚‹ã¨æ³¢é¢¨ç«‹ã¡ã¾ã›ã‚“ã€‚'
      ],
      'å‹è² äº‹': [
        'ç„¡ç†ã«æŒ‘ã¾ãšå¼•ãå‹‡æ°—ã‚’æŒã¤ã¨æ¬¡ã«ç¹‹ãŒã‚‹ã€‚',
        'å¤§ããªå‹è² ã¯å»¶æœŸã—ä½“å‹¢ã‚’ç«‹ã¦ç›´ã—ã¦ã€‚',
        'å¥‘ç´„ã”ã¨ã¯æ…Žé‡ã«ã€å°‚é–€å®¶ã®åŠ©è¨€ã‚‚ä»°ã„ã§ã€‚'
      ],
      'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸': [
        'é™ã‹ã«éŽã”ã—å¿ƒã‚’æ•´ãˆã‚‹æœŸé–“ã¨æ‰ãˆã¦ã€‚',
        'èº«ã®å›žã‚Šã‚’æ•´ãˆã‚‹ã¨å¾ã€…ã«æµã‚ŒãŒå¤‰ã‚ã‚Šã¾ã™ã€‚',
        'æ„Ÿæƒ…ã‚’ãƒŽãƒ¼ãƒˆã«æ›¸ãå‡ºã—ã¦è½ã¡ç€ãã‚’å–ã‚Šæˆ»ãã†ã€‚'
      ]
    }
  },
  luckyItems: [
    'ã‚µã‚¤ã‚³ãƒ­',
    'ãŠå®ˆã‚Š',
    'ã‚«ãƒ¡ãƒ©',
    'ãƒ˜ã‚¢ãƒ”ãƒ³',
    'ãƒã‚±ãƒƒãƒˆãƒ†ã‚£ãƒƒã‚·ãƒ¥',
    'é€æ˜Žãªãƒšãƒ³ã‚±ãƒ¼ã‚¹',
    'ãŠæ°—ã«å…¥ã‚Šã®é¦™æ°´',
    'ã‚¤ãƒ¤ãƒ›ãƒ³ã‚±ãƒ¼ã‚¹',
    'ãƒœãƒˆãƒ«å…¥ã‚Šéº¦èŒ¶',
    'ã‚«ãƒ©ãƒ•ãƒ«ãªãƒ˜ã‚¢ã‚´ãƒ ',
    'å››ã¤è‘‰ã®ã‚·ãƒ¼ãƒ«',
    'ãƒŸãƒ³ãƒˆå‘³ã®ã‚­ãƒ£ãƒ³ãƒ‡ã‚£',
    'æŠ˜ã‚ŠãŸãŸã¿å‚˜',
    'æœ¨è£½ã‚­ãƒ¼ãƒ›ãƒ«ãƒ€ãƒ¼',
    'èŠ±æŸ„ãƒãƒ³ã‚«ãƒ',
    'æ‰‹ä½œã‚Šé¢¨ãƒ¡ãƒ¢å¸³',
    'é™å®šæŸ„ã®ç¼¶ãƒãƒƒã‚¸',
    'ã¬ã„ãã‚‹ã¿',
    'ãƒ‘ãƒ©ãƒ‘ãƒ©ã®ãƒãƒ£ãƒ¼ãƒãƒ³',
    'ã·ã‚Šã·ã‚Šã®ã‚¨ãƒ“',
    'é»„è‰²ã„ã‚¿ã‚ªãƒ«',
    'ãƒ©ãƒ¼ãƒ¡ãƒ³ã©ã‚“ã¶ã‚Š',
    'æŽ¨ã—è‰²ã®ãƒšãƒ³ãƒ©ã‚¤ãƒˆ',
    'æ˜ŸæŸ„ã‚½ãƒƒã‚¯ã‚¹',
    'å°ã•ãªã¬ã„ãã‚‹ã¿',
    'ç´™ã®ã—ãŠã‚Š',
    'ãƒžã‚¹ã‚­ãƒ³ã‚°ãƒ†ãƒ¼ãƒ—',
    'æ‰‹ã®ã²ã‚‰ã‚µã‚¤ã‚ºã®ãƒŽãƒ¼ãƒˆ',
    'è¬Žã«ä½™ã£ãŸUSBãƒ¡ãƒ¢ãƒª',
    'ã‚³ãƒ³ãƒ“ãƒ‹ã®å‰²ã‚Šç®¸',
    'ãƒ”ã‚«ãƒ”ã‚«ã®10å††çŽ‰',
    'æ¶ˆã—ã‚´ãƒ ã®ã‚«ã‚¹çŽ‰',
    'ãƒŸãƒ‹ã‚µã‚¤ã‚ºã®é†¤æ²¹ã•ã—',
    'ãƒ©ãƒ ãƒç“¶ã®ãƒ“ãƒ¼çŽ‰',
    'ã¡ã‚‡ã£ã¨æ›²ãŒã£ãŸã‚¯ãƒªãƒƒãƒ—',
    'ã‚¬ãƒãƒ£ã‚¬ãƒãƒ£ã®ã‚«ãƒ—ã‚»ãƒ«',
    'æœªä½¿ç”¨ã®çµ†å‰µè†',
    'ãµã‚ãµã‚ã®è€³å½“ã¦',
    'éŠ€è‰²ã®ç´™å¹é›ª',
    'ãƒ¬ã‚·ãƒ¼ãƒˆã®è£ã«æã„ãŸè½æ›¸ã',
    'ãƒã‚±ãƒƒãƒˆã‹ã‚‰å‡ºã¦ããŸè¬Žã®ãƒœã‚¿ãƒ³',
    'ã‚«ãƒ•ã‚§ã§ã‚‚ã‚‰ã£ãŸè§’ç ‚ç³–',
    'ãŠç¥­ã‚Šã§ã‚‚ã‚‰ã£ãŸé‡‘é­šã™ãã„ãƒã‚¤',
    'ã¡ã‚‡ã„æ¬ ã‘ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚±ãƒ¼ã‚­ãƒ”ãƒƒã‚¯',
    'æ˜¨æ—¥ã®å®¿é¡Œãƒ—ãƒªãƒ³ãƒˆï¼ˆæœªæå‡ºï¼‰',
    'ãªãã—ãŸã¨æ€ã£ã¦ãŸãƒªãƒƒãƒ—ã‚¯ãƒªãƒ¼ãƒ ',
    'å­¦é£Ÿã®ç®¸è¢‹ã§æŠ˜ã£ãŸé¶´',
    'æŽ¨ã—ã®ç”Ÿå†™çœŸï¼ˆç«¯ã£ã“æŠ˜ã‚Œï¼‰',
    'å……é›»æ®‹é‡3%ã®ãƒ¢ãƒã‚¤ãƒ«ãƒãƒƒãƒ†ãƒªãƒ¼',
    'ã‚¹ãƒ¼ãƒ‘ãƒ¼ã®å‰²å¼•ã‚·ãƒ¼ãƒ«',
    'é§…ã§æ‹¾ã£ãŸè¬Žã‚¹ãƒ†ãƒƒã‚«ãƒ¼',
    'ãƒ•ã‚¿ãŒé–‰ã¾ã‚‰ãªã„ãƒ©ãƒ³ãƒãƒœãƒƒã‚¯ã‚¹',
    'ãŠå­æ§˜ãƒ©ãƒ³ãƒã®æ——',
    'ãƒšãƒƒãƒˆãƒœãƒˆãƒ«ã®ãƒ©ãƒ™ãƒ«ã‚’ä¸¸ã‚ãŸçŽ‰',
    'é€æ˜Žãªãƒ“ãƒ‹ãƒ¼ãƒ«å‚˜ã®éª¨',
    'ç‡ƒãˆå°½ããŸèšŠå–ã‚Šç·šé¦™ã®ç°',
    'æœºã‹ã‚‰ç™ºæŽ˜ã•ã‚ŒãŸè¬Žã®ä»˜ã›ã‚“',
    'ãƒã‚±ãƒƒãƒˆã®ç ‚åˆ©ï¼ˆå‡ºã©ã“ã‚ä¸æ˜Žï¼‰',
    'çµ¦é£Ÿã®ç‰›ä¹³ç“¶ã®ãƒ•ã‚¿',
    'æ˜ ç”»é¤¨ã®åŠåˆ¸ï¼ˆ3å¹´å‰ï¼‰',
    'æ´—æ¿¯ãƒãƒƒãƒˆã«æ®‹ã£ã¦ãŸé´ä¸‹ç‰‡è¶³',
    'è¬Žã®ãƒ€ã‚µã„æ™¯å“ã‚­ãƒ¼ãƒ›ãƒ«ãƒ€ãƒ¼',
    'é€šå¸³ã«æŒŸã‚“ã äº¤é€šç³»ICã®ãƒ¬ã‚·ãƒ¼ãƒˆ',
    'ãƒãƒƒãƒ”ãƒ¼ã‚¿ãƒ¼ãƒ³ã®ç²‰ã ã‘',
    'ã‚¹ãƒ¼ãƒ‘ãƒ¼ã®ã‚«ã‚´ã«å¿˜ã‚Œã‹ã‘ãŸãƒ¬ãƒ¢ãƒ³'
  ]
};

const pickRandom = (items) => {
  if (!Array.isArray(items) || items.length === 0) {
    return undefined;
  }
  const index = Math.floor(Math.random() * items.length);
  return items[index];
};

const setupThemeToggle = () => {
  const root = document.documentElement;
  const themeToggle = document.getElementById('theme-toggle');

  if (!themeToggle) return;

  const prefersDark = window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;

  const updateToggleUI = (theme) => {
    const isDark = theme === 'dark';
    const label = isDark ? 'ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ' : 'ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ';
    themeToggle.setAttribute('aria-label', label);
    themeToggle.setAttribute('aria-pressed', String(isDark));
    const textEl = themeToggle.querySelector('.theme-toggle__text');
    if (textEl) {
      textEl.textContent = isDark ? 'ãƒ©ã‚¤ãƒˆ' : 'ãƒ€ãƒ¼ã‚¯';
    }
  };

  const applyTheme = (theme, { persist = false } = {}) => {
    const nextTheme = theme === 'dark' ? 'dark' : 'light';
    root.setAttribute('data-theme', nextTheme);
    updateToggleUI(nextTheme);
    if (persist) {
      localStorage.setItem(storageKey, nextTheme);
    }
  };

  const savedTheme = localStorage.getItem(storageKey);
  const prefersDarkMatches = prefersDark && prefersDark.matches;
  applyTheme(savedTheme || (prefersDarkMatches ? 'dark' : 'light'));

  themeToggle.addEventListener('click', () => {
    const currentTheme = root.getAttribute('data-theme');
    const nextTheme = currentTheme === 'dark' ? 'light' : 'dark';
    applyTheme(nextTheme, { persist: true });
  });

  const handleSystemChange = (event) => {
    if (!localStorage.getItem(storageKey)) {
      applyTheme(event.matches ? 'dark' : 'light');
    }
  };

  if (prefersDark) {
    if (prefersDark.addEventListener) {
      prefersDark.addEventListener('change', handleSystemChange);
    } else if (prefersDark.addListener) {
      prefersDark.addListener(handleSystemChange);
    }
  }
};

const initYearStamp = () => {
  const year = String(new Date().getFullYear());
  ['y', 'profile-year'].forEach((id) => {
    const el = document.getElementById(id);
    if (el) {
      el.textContent = year;
    }
  });
};

const initReloadButton = () => {
  const reloadBtn = document.getElementById('reload-btn');
  if (!reloadBtn) return;

  reloadBtn.addEventListener('click', (event) => {
    event.preventDefault();
    window.scrollTo({ top: 0, behavior: 'auto' });
    window.location.reload();
  });
};

const initAnchorScroll = () => {
  document.querySelectorAll('.top-nav a[href^="#"]').forEach((link) => {
    link.addEventListener('click', (event) => {
      const href = link.getAttribute('href');
      if (!href) return;
      const targetId = href.slice(1);
      if (!targetId) return;

      const target = document.getElementById(targetId);
      if (!target) return;

      event.preventDefault();
      target.scrollIntoView({
        behavior: 'smooth',
        block: 'center',
        inline: 'nearest'
      });
    });
  });
};

const initFortune = () => {
  const btn = document.getElementById('fortune-btn');
  const resultNode = document.getElementById('fortune-result');
  const commentNode = document.getElementById('fortune-comment');
  const luckyNode = document.getElementById('fortune-lucky');

  if (!btn || !resultNode || !commentNode || !luckyNode) return;

  const showFortune = () => {
    const randomResult = pickRandom(fortuneData.results) || 'å‰';
    resultNode.textContent = randomResult === 'å¤§å‰' ? 'ðŸŒ¸ å¤§å‰ ðŸŒ¸' : randomResult;
    resultNode.style.display = 'block';

    const commentCandidates = fortuneData.commentsByResult[randomResult];
    const categories = commentCandidates ? Object.keys(commentCandidates) : [];
    const category = pickRandom(categories);
    const variations = (category && commentCandidates[category]) || [];
    const text = pickRandom(variations) || fortuneData.fallbackComment;

    commentNode.textContent = category ? `${category}ï¼š${text}` : text;
    commentNode.style.display = 'block';

    const luckyItem = pickRandom(fortuneData.luckyItems);
    luckyNode.textContent = `ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ ï¼š${luckyItem || 'æŽ¨ã—Tã‚·ãƒ£ãƒ„'}`;
    luckyNode.style.display = 'block';
  };

  const reveal = () => {
    btn.style.display = 'none';
    showFortune();
  };

  btn.addEventListener('click', () => {
    if (reduceMotionQuery && reduceMotionQuery.matches) {
      reveal();
      return;
    }
    btn.classList.add('animate-out');
    setTimeout(reveal, 300);
  }, { once: true });
};

const initPage = () => {
  setupThemeToggle();
  initYearStamp();
  initReloadButton();
  initAnchorScroll();
  initFortune();
};

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initPage, { once: true });
} else {
  initPage();
}

